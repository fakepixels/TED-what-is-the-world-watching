<!DOCTYPE html>
<html>
<head>
<meta name="authors" content="Vaidehi Garg (vg254) and Tina He (mh2235)">
<title>INFO 3300: Project 1</title>
<link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Karma" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Krona+One" rel="stylesheet">
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="http://d3js.org/topojson.v2.min.js"></script>
<style>
  body {align: center;}
  svg { border: solid "rgb(237, 228, 29)" 1px; margin: 10px 10px 10px 10px;}
  h1{font-size:220px; color:#E62B1E; margin: -10px;}
  p {font-family: 'Karma', serif;max-width: 35%;}
  #title{padding: -20px;}
  #introduction{margin: -20px; padding: 60px; background-color: #F2F2F2;}
</style>
</head>

<body>

<!-- HEADER -->
<section id="introduction">
    <div id="header" align="center" style="font-family: 'Karma', serif";>
        <p>INFO 3300: Project 1 <br>Vaidehi Garg (vg254) and Tina He (mh2235)</p>
    </div>  
    <div id="title" align="center" style="font-family: 'Krona One', sans-serif;', serif">
        <h1>TED</h1>
        <h2> What Is The World Watching? </h2>
        <p>We try to see what TED talks data tell us about what people care about in the 21st century. This dataset has details on 2550 ted talks with which we intend to bring out interesting information and key insights on the TED talks.
    </p>
    </div>
</section>
<!-- END HEADER -->

<!-- VISUALIZATION 1: TAG WORD CLOUD -->
<section id="tagSection" align="center">
<p id="tags" align="center">
</p>

<script>

d3.select("#tags").append("svg")
.attr("id", "tagSVG")
.attr("width", 1200)
.attr("height", 400);

var svg = d3.select("#tagSVG");

</script>
</section>
<!-- END VISUALIZATION 1 -->

<!-- VISUALIZATION 2: RANK BAR GRAPH -->
<section id="ratingSection">
<p id="ratings" align="center">
</p>

<script>

d3.select("#ratings").append("svg")
.attr("id", "ratingSVG")
.attr("width", 900)
.attr("height", 600);

var ratingSVG = d3.select("#ratingSVG");

var ratingData;

d3.queue()
.defer(d3.json, "ratings.json")
.await(callback);

function callback(error, data) {
  ratingData = data;

  var countScale = d3.scaleLog()
  // .base(Math.E)
  .domain([50000,1500000])
  .range([575,25])

  var indexScale = d3.scaleLinear()
  .domain([0,14])
  .range([125,800])

  var countAxis = d3.axisLeft(countScale)
  .ticks(10);

  var indexAxis = d3.axisBottom(indexScale)
  .ticks(14);

  ratingSVG.append("g")
  .call(countAxis)
  .attr("transform", "translate(100, 0)")

  ratingSVG.append("g")
  .call(indexAxis)
  .attr("transform", "translate(0, 575)")

  ratingData.forEach(function (d, i) {
    ratingSVG.append("line")
    .attr("x1", indexScale(i+1))
    .attr("y1", 575)
    .attr("x2", indexScale(i+1))
    .attr("y2", countScale(d.count))
    .style("stroke-width", 2)
    .style("stroke", "yellow");
  });
}

</script>
</section>
<!-- END VISUALIZATION 2 -->

<!-- VISUALIZATION 3: DURATION HISTOGRAM -->
<section id="durationSection">
<p id="durations" align="center">
</p>

<script>

d3.select("#durations").append("svg")
.attr("id", "durationSVG")
.attr("width", 1200)
.attr("height", 400);

var svg = d3.select("#durationSVG");

</script>
</section>
<!-- END VISUALIZATION 3 -->

</body>
</html>
